{"mappings":"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","sources":["src/js/clock.js","src/js/localstorage.js","src/js/todo.js"],"sourcesContent":["const timerEl = document.querySelector('.js-timer-items');\nconst btnsEl = document.querySelector('.js-buttons__wrapper');\n\nconst timeZone = -new Date().getTimezoneOffset() / 60;\n\n\nlet intervalId = null;\n\nbtnsEl.addEventListener('click', onBtnClick);\n\nfunction onBtnClick(event) {\n    const showBtn = event.target.matches('button.js-show');\n    const hideBtn = event.target.matches('button.js-hide');\n    \n    \n    if (showBtn) {\n        startClock(timerEl);\n        setTimeout(() => {            \n            document.querySelector('.timer').classList.remove('is-hidden');\n            document.querySelector('.js-show').classList.add('is-hidden');\n            document.querySelector('.js-hide').classList.remove('is-hidden');\n            document.querySelector('.js-change').classList.remove('is-hidden');\n        }, 1000);       \n        return;\n    } \n    if (hideBtn) {\n        clearInterval(intervalId);\n        setTimeout(() => {\n            document.querySelector('.timer').classList.add('is-hidden');\n            document.querySelector('.js-show').classList.remove('is-hidden');\n            document.querySelector('.js-hide').classList.add('is-hidden');\n            document.querySelector('.js-change').classList.add('is-hidden');\n        }, 1000)     \n        return;\n    }\n    const textChangeTextBtn = document.querySelector('.js-change').textContent.trim();\n   \n    setTimeout(() => {\n        timerEl.querySelector('.js-timer__timezone').classList.toggle('is-hidden');\n        \n        if (textChangeTextBtn === 'Прибрати PM/AM') {\n          document.querySelector('.js-change').textContent = 'Показати PM/AM';\n        } else {\n            document.querySelector('.js-change').textContent = 'Прибрати PM/AM';\n        }\n          \n     }, 1000)\n   \n}\n\nfunction getTimeComponents(time) {\n  const hours = (Math.floor(time / 1000 / 60 / 60) % 24) + timeZone;\n  const minutes = Math.floor(time / 1000 / 60) % 60;\n  const seconds = Math.floor(time / 1000) % 60;\n\n  return {\n    hours,\n    minutes,\n    seconds,\n  };\n}\n\nfunction addPad(value) {\n  return String(value).padStart(2, 0);\n}\n\nfunction declensionNum(num, words) {\n  return words[\n    num % 100 > 4 && num % 100 < 20\n      ? 2\n      : [2, 0, 1, 1, 1, 2][num % 10 < 5 ? num % 10 : 5]\n  ];\n}\n\nfunction startClock(rootSelector) {\n  intervalId = setInterval(() => {\n    const currentTime = Date.now();\n    \n      const { hours, minutes, seconds } = getTimeComponents(currentTime);\n      const timeZoneName = hours >= 12 ? 'PM' : 'AM'\n    \n    rootSelector.querySelector('.js-timer__hours').textContent = addPad(hours);\n      rootSelector.querySelector('.js-timer__minutes').textContent = addPad(minutes);\n      rootSelector.querySelector('.js-timer__seconds').textContent = addPad(seconds);\n      rootSelector.querySelector('.js-timer__timezone').textContent =\n        timeZoneName;\n\n    rootSelector.querySelector('.js-timer__hours').dataset.title = declensionNum(hours, ['година', 'години', 'годин']);\n    rootSelector.querySelector('.js-timer__minutes').dataset.title = declensionNum(minutes, ['хвилина', 'хвилини', 'хвилин']);\n    rootSelector.querySelector('.js-timer__seconds').dataset.title = declensionNum(seconds, ['секунда', 'секунди', 'секунд']);\n  }, 1000);\n}\n\n","const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nconst remove = key => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.log('Remove item error: ', error.message);\n  }\n};\n\nexport default {\n  save,\n  load,\n  remove,\n};\n","import localStorageApi from './localstorage.js';\nconst formEl = document.querySelector('form');\nconst ulEl = document.querySelector('ul');\n\nconst LOCAL_KEY = 'todo-items';\n\n// Перевірка якщо Local Storage пустий\nlet items = localStorageApi.load(LOCAL_KEY) || [];\n\nformEl.addEventListener('submit', onClickSubmit);\nulEl.addEventListener('click', onBtnClick);\n\n\nfunction updateList() {\n  const markup = items\n    .map(item => {\n      return `\n      <li>\n      <span class=\"text${item.done ? ' done' : ''}\">${item.text}</span>\n      <div>\n        <button type=\"button\" data-id=\"${item.id}\" class=\"delete\">Видалити</button>\n        <button type=\"button\" data-id=\"${item.id}\" class=\"done\">${item.done ? 'Виконано!' : 'Не виконано'}</button>\n      </div>\n      </li>\n    `;\n    })\n    .join('');\n\n  ulEl.innerHTML = markup;\n\n  // Додаємо до виконаних тасок клас сompleted при загрузці\n  for (let item of items) {\n    if (item.done) {\n      const doneBtn = document.querySelector(`[data-id=\"${item.id}\"].done`);\n\n      doneBtn.classList.add('сompleted');\n    }\n  }\n}\n\nfunction onClickSubmit(event) {\n    event.preventDefault();\n    let input = event.currentTarget.elements['user-todos'];\n    const task = input.value.trim();\n\n    if (task != '') {\n      const repeatTodos = items.find(({ text }) => text === task);\n      if (repeatTodos) {\n        alert('Така задача вже існує');\n        return;\n      }\n    }\n\n    const item = {\n      id: Date.now(),\n      text: task,\n      done: false,\n    };\n\n    items.push(item);\n    input.value = '';\n    console.log(input)\n\n    localStorageApi.save(LOCAL_KEY, items);\n    updateList();\n\n}\n\n\nfunction onBtnClick(e) {\n  // Робимо пошук відповідної кнопки\n  const deleteBtn = e.target.matches('button.delete');\n  const doneBtn = e.target.classList.contains('done');\n\n  if (deleteBtn) {\n    // Знаходимо id\n    const todosId = parseInt(e.target.dataset.id);\n    // Вертаємо новий масив, без елемента з найденим id\n    items = items.filter(({ id }) => id !== todosId);\n    // Зберігаємо у Local Storage\n    localStorageApi.save(LOCAL_KEY, items);\n    // Обновляємо розмітку\n    updateList();\n  }\n\n  if (doneBtn) {\n    // Знаходимо id\n    const todosId = parseInt(e.target.dataset.id);\n    // Знаходимо відповідну кнопку\n    const item = items.find(({ id }) => id === todosId);\n\n    // Якщо кнопка знайдена\n    if (item) {\n      const doneButton = e.target;\n      // Робимо реверсію значення \"done\"\n      item.done = !item.done;\n\n      // Додає або знімає класс\n      doneButton.classList.toggle('сompleted');\n\n      // Змінює назву кнопки від параметра \"done\"\n      doneButton.innerText = item.done ? 'Виконано!' : 'Не виконано';\n\n      // Шукаємо span\n      const spanEl = doneButton.parentElement.previousElementSibling;\n\n      // Змінюємо йому клас\n      spanEl.classList.toggle('done');\n\n      // зберігаємо у Local Storage\n      localStorageApi.save(LOCAL_KEY, items);\n    }\n  }\n}\n  \nupdateList();\n"],"names":["$7a215998b27adb57$var$timerEl","document","querySelector","$7a215998b27adb57$var$btnsEl","$7a215998b27adb57$var$timeZone","Date","getTimezoneOffset","$7a215998b27adb57$var$intervalId","$7a215998b27adb57$var$addPad","value","String","padStart","$7a215998b27adb57$var$declensionNum","num","words","addEventListener","event","showBtn","target","matches","hideBtn","rootSelector","setInterval","ref","time","hours","Math","floor","minutes","seconds","$7a215998b27adb57$var$getTimeComponents","now","timeZoneName","textContent","dataset","title","setTimeout","classList","remove","add","clearInterval","textChangeTextBtn","trim","toggle","$50116558f77987dc$export$2e2bcd8739ae039","save","key","serializedState","JSON","stringify","localStorage","setItem","error","console","message","load","getItem","undefined","parse","removeItem","log","$34b9064c7d3a6751$var$formEl","$34b9064c7d3a6751$var$ulEl","$34b9064c7d3a6751$var$LOCAL_KEY","$34b9064c7d3a6751$var$items","$34b9064c7d3a6751$var$updateList","markup","map","item","concat","done","text","id","join","innerHTML","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","item1","err","return","preventDefault","input","currentTarget","elements","task","find","param","alert","push","e","deleteBtn","doneBtn","contains","todosId","parseInt","filter","todosId1","doneButton","innerText","parentElement","previousElementSibling"],"version":3,"file":"index.a27c84c4.js.map"}