const e=document.querySelector(".js-timer-items"),t=document.querySelector(".js-buttons__wrapper"),o=-(new Date).getTimezoneOffset()/60;let s=null;function n(e){return String(e).padStart(2,0)}function r(e,t){return t[e%100>4&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]]}t.addEventListener("click",(function(t){const i=t.target.matches("button.js-show"),c=t.target.matches("button.js-hide");if(i)return d=e,s=setInterval((()=>{const e=Date.now(),{hours:t,minutes:s,seconds:i}=function(e){const t=Math.floor(e/1e3/60/60)%24+o,s=Math.floor(e/1e3/60)%60,n=Math.floor(e/1e3)%60;return{hours:t,minutes:s,seconds:n}}(e),c=t>=12?"PM":"AM";d.querySelector(".js-timer__hours").textContent=n(t),d.querySelector(".js-timer__minutes").textContent=n(s),d.querySelector(".js-timer__seconds").textContent=n(i),d.querySelector(".js-timer__timezone").textContent=c,d.querySelector(".js-timer__hours").dataset.title=r(t,["година","години","годин"]),d.querySelector(".js-timer__minutes").dataset.title=r(s,["хвилина","хвилини","хвилин"]),d.querySelector(".js-timer__seconds").dataset.title=r(i,["секунда","секунди","секунд"])}),1e3),void setTimeout((()=>{document.querySelector(".timer").classList.remove("is-hidden"),document.querySelector(".js-show").classList.add("is-hidden"),document.querySelector(".js-hide").classList.remove("is-hidden"),document.querySelector(".js-change").classList.remove("is-hidden")}),1e3);var d;if(c)return clearInterval(s),void setTimeout((()=>{document.querySelector(".timer").classList.add("is-hidden"),document.querySelector(".js-show").classList.remove("is-hidden"),document.querySelector(".js-hide").classList.add("is-hidden"),document.querySelector(".js-change").classList.add("is-hidden")}),1e3);const a=document.querySelector(".js-change").textContent.trim();setTimeout((()=>{e.querySelector(".js-timer__timezone").classList.toggle("is-hidden"),document.querySelector(".js-change").textContent="Прибрати PM/AM"===a?"Показати PM/AM":"Прибрати PM/AM"}),1e3)}));var i={save:(e,t)=>{try{const o=JSON.stringify(t);localStorage.setItem(e,o)}catch(e){console.error("Set state error: ",e.message)}},load:e=>{try{const t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error("Get state error: ",e.message)}},remove:e=>{try{localStorage.removeItem(e)}catch(e){console.log("Remove item error: ",e.message)}}};const c=document.querySelector("form"),d=document.querySelector("ul");let a=i.load("todo-items")||[];function l(){const e=a.map((e=>`\n      <li>\n      <span class="text${e.done?" done":""}">${e.text}</span>\n      <div>\n        <button type="button" data-id="${e.id}" class="delete">Видалити</button>\n        <button type="button" data-id="${e.id}" class="done">${e.done?"Виконано!":"Не виконано"}</button>\n      </div>\n      </li>\n    `)).join("");d.innerHTML=e;for(let e of a)if(e.done){document.querySelector(`[data-id="${e.id}"].done`).classList.add("сompleted")}}c.addEventListener("submit",(function(e){e.preventDefault();let t=e.currentTarget.elements["user-todos"];const o=t.value.trim();if(""!=o){if(a.find((({text:e})=>e===o)))return void alert("Така задача вже існує")}const s={id:Date.now(),text:o,done:!1};a.push(s),t.value="",console.log(t),i.save("todo-items",a),l()})),d.addEventListener("click",(function(e){const t=e.target.matches("button.delete"),o=e.target.classList.contains("done");if(t){const t=parseInt(e.target.dataset.id);a=a.filter((({id:e})=>e!==t)),i.save("todo-items",a),l()}if(o){const t=parseInt(e.target.dataset.id),o=a.find((({id:e})=>e===t));if(o){const t=e.target;o.done=!o.done,t.classList.toggle("сompleted"),t.innerText=o.done?"Виконано!":"Не виконано";t.parentElement.previousElementSibling.classList.toggle("done"),i.save("todo-items",a)}}})),l();
//# sourceMappingURL=index.474f7466.js.map
